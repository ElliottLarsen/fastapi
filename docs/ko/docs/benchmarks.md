# 벤치마크

독립된 TechEmpower 벤치마크에서 Uvicorn에서 작동하는 **FastAPI**가 <a href="https://www.techempower.com/benchmarks/#section=test&runid=7464e520-0dc2-473d-bd34-dbdfd7e85911&hw=ph&test=query&l=zijzen-7" class="external-link" target="_blank">가장 빠른 파이썬 프레임워크 중 하나</a>로 Starlette과 Uvicorn(FastAPI에서 내부적으로 사용) 바로 다음에 있다고 보여주고 있습니다. (*)

하지만 벤치마크를 확인과 비교 하실때 여러분은 다음 사항을 기억 하셔야 합니다.

## 벤치마크와 속도

벤치마크를 확인할때 서로 다른 유형의 도구들을 동등한 것으로 비교 되는것이 일반적입니다.

특히 Uvicorn, Starlette, 그리고 FastPAI (다른 많은 도구들 중에서)가 함께 비교됩니다.

도구가 해결하는 문제가 단순할수록 더 나은 성능을 얻을 수 있습니다. 그리고 대부분의 벤치마크는 도구가 제공하는 추가 기능을 테스트 하지는 않습니다.

계층 구조는 다음과 같습니다:

* **Uvicorn**: ASGI 서버
    * **Starlette**: (Uvicorn 사용) 웹 마이크로 프레임워크
        * **FastAPI**: (Starlette 사용) API 구축, 데이터 유효성 검사등 추가 기능이 있는 API 마이크로 프레임워크

* **Uvicorn**:
    * 서버 자체를 제외하고는 추가적인 코드가 많지 않음으로 최고의 성능을 발휘합니다.
    * 여러분이 Uvicorn으로 직접 애플리케이션을 작성 하지는 않으실겁니다. 즉 여러분의 코드는 최소한 Starlette (또는 **FastAPI**)에서 제공되는 모든 코드를 포함해야 합니다.  만약 여러분이 그렇게 하신다면 여러분의 최종 애플리케이션은 프레임워크를 사용하고 애플리케이션 코드와 버그를 최소화 한것과 동일한 고정경비를 가지게 됩니다.
    * 여러분이 Uvicorn을 비교하시려면, Daphne, Hypercorn, uWSGI 등과 같은 애플리케이션 서버와 비교하십시오.
* **Starlette**:
    * Uvicorn 다음으로 최고의 성능을 발휘합니다. 실제로 Starlette은 Uvicorn을 사용하여 실행됩니다. 따라서 더 많은 코드를 실행해야 하기 때문에 Uvicorn보다 느릴 수 밖에 없습니다.
    * 그렇지만 경로를 기반으로 하는 라우팅등 간단한 웹 애플리케이션을 구축 할 수 있는 도구들를 제공합니다.
    * 여러분이 Starlette을 비교하시려면, Sanic, Flask, Django 등과 같은 웹 프레임워크 (또는 마이크로 프레임워크)와 비교하십시오.
* **FastAPI**:
    * Starlette이 Uvicorn을 사용하지만 그것보다 빠를 수 없는 것과 같은것 처럼 **FastAPI**는 Starlette을 사용하기 때문에 그것보다 빠를 수 없습니다.
    * FastAPI는 Starlette에 추가로 더 많은 기능을 제공합니다. 데이터 유효성 검사 및 직렬화와 같은 API를 구축할 때 거의 항상 필요한 기능들 입니다. 또한 이것을 사용함으로써 여러분은 무료로 자동 문서를 얻으실 수 있습니다 (자동 문서는 실행중인 애플리케이션에 추가되는 간접비용 없이 시작 시 생성됩니다).
    * 만약 여러분이 FastAPI를 사용하지 않고 Starlette을 직접 사용하시거나 Sanic, Flask, Responder 등과 같은 다른 도구를 사용하신다면 여러분은 직접 데이터 유효성 검사 및 직렬화를 직접 구현하셔야 합니다. 따라서 여러분의 최종 애플리케이션은 FastAPI를 사용하여 구축된 것과 동일한 총경비를 갖게 됩니다. 그리고 많은 경우에 이 데이터 유효성 검사 및 직렬화가 애플리케이션 코드 중에 제일 많은 부분을 차지하게 됩니다.
    * 따라서 FastAPI를 사용하면 여러분은 개발 시간, 버그, 코드의 양을 줄이실 수 있으며 FastAPI를 사용하지 않았을 때와 동일한 (또는 더 나은) 성능을 얻으실 수 있습니다 (모든것을 코드에 구현해야 하므로).
    * 만약 여러분이 FastAPI를 비교하실 경우 Flask-Apispec, NestJS, Molten과 같은 통합된 자동 데이터 유효성 검사, 직렬화 및 문서가 제공되는 웹 애플리케이션 프레임워크 (또는 도구들)과 비교하십시오.